add_namespace = raiding

country_event = { #Raid Successful/Attacker
	id = raiding.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event raiding.1"}#Auto-logging
	title = raiding.1.t
	desc = raiding.1.d

	picture = GFX_event_griffon_with_gun
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_variable = { temp_loot = FROM.FROM.FROM.industrial_complex_level }
			add_to_variable = { temp_loot = FROM.FROM.FROM.arms_factory_level }
			clamp_variable = {
				var = temp_loot
				min = 2
				max = 6
			}
			add_to_variable = { loot = temp_loot }
		}
	}

	option = {
		name = raiding.1.a
		custom_effect_tooltip = loot_tp
		hidden_effect = {
			clear_variable = temp_loot
			clr_country_flag = raid_in_progress
			set_country_flag = { flag = raid_succeeded days = 100 value = 1 }
		}
	}
}

country_event = { #Raid Canceled/Attacker
	id = raiding.2
	title = raiding.2.t
	desc = raiding.2.d

	picture = GFX_event_griffon_royal_guard
	is_triggered_only = yes

	option = {
		name = raiding.2.a
		add_political_power = -50
		hidden_effect = {
			clr_country_flag = raid_in_progress
			set_country_flag = { flag = raid_failed days = 120 value = 1 }
		}
	}
}

country_event = { #Raid Failed/Attacker
	id = raiding.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event raiding.3"}
	title = raiding.3.t
	desc = raiding.3.d

	picture = GFX_event_griffons_machine_gun
	is_triggered_only = yes

	option = {
		name = raiding.3.a
		add_political_power = -50
		add_manpower = -1500
		add_stability = -0.02
		add_war_support = -0.02
		hidden_effect = {
			clr_country_flag = raid_in_progress
			set_country_flag = { flag = raid_failed days = 160 value = 1 }
		}
	}
}

country_event = { #Raid Successful/Defender
	id = raiding.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event raiding.4"}
	title = raiding.4.t
	desc = raiding.4.d

	picture = GFX_event_griffon_royal_guard
	is_triggered_only = yes
	hidden = yes

	option = {
		name = raiding.4.a
		random_list = {
			20 = {
				country_event = { id = raiding.7 days = 2 }
			}
			20 = {
				country_event = { id = raiding.8 days = 2 }
			}
			20 = {
				country_event = { id = raiding.9 days = 2 }
			}
			20 = {
				country_event = { id = raiding.10 days = 2 }
			}
			20 = {
				country_event = { id = raiding.11 days = 2 }
			}
		}
	}
}

country_event = { #Raid Canceled/Defender
	id = raiding.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event raiding.5"}
	title = raiding.5.t
	desc = raiding.5.d

	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = raiding.5.a
		add_political_power = 30
		add_stability = 0.02
	}
}

country_event = { #Raid Failed/Defender
	id = raiding.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event raiding.6"}
	title = raiding.6.t
	desc = raiding.6.d

	picture = GFX_event_griffon_para
	is_triggered_only = yes

	option = {
		name = raiding.6.a
		add_political_power = 25
		add_stability = 0.01
		if = {
			limit = {
				FROM = { has_tech = advanced_infantry_weapons }
			}

			add_equipment_to_stockpile = {
				type = infantry_equipment_3
				amount = 500
				producer = MNC
			}
		}
		else_if = {
			limit = {
				FROM = { has_tech = improved_infantry_weapons }
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment_2
				amount = 500
				producer = MNC
			}
		}
		else_if = {
			limit = {
				FROM = { has_tech = infantry_weapons1 }

			}

			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 500
				producer = MNC
			}
		}
		else_if = {
			limit = {
				FROM = { has_tech = infantry_weapons }
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment_0
				amount = 500
				producer = MNC
			}
		}
		else_if = {
			limit = {
				FROM = { has_tech = melee_weapons1 }
			}

			add_equipment_to_stockpile = {
				type = melee_equipment_1
				amount = 500
				producer = MNC
			}
		}

		else_if = {
			limit = {
				FROM = { has_tech = melee_weapons }
			}

			add_equipment_to_stockpile = {
				type = melee_equipment_0
				amount = 500
				producer = MNC
			}
		}
	}
}

country_event = { #Raid Defeat/Cash Lost
	id = raiding.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event raiding.7"}
	title = raiding.7.t
	desc = raiding.7.d

	picture = GFX_event_bank_vault
	is_triggered_only = yes

	option = {
		name = raiding.7.a
		add_political_power = -50
		add_stability = -0.02
		add_manpower = -1000
	}
}

country_event = { #Raid Defeat/Garrison Slaugthered
	id = raiding.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event raiding.8"}
	title = raiding.8.t
	desc = raiding.8.d

	picture = GFX_event_griffon_with_gun
	is_triggered_only = yes

	option = {
		name = raiding.8.a
		add_political_power = -25
		add_manpower = -2500
		add_stability = -0.02
		add_war_support = -0.02
	}
}

country_event = { #Raid Defeat/Factory Burnt
	id = raiding.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event raiding.9"}
	title = raiding.9.t
	desc = raiding.9.d

	picture = GFX_event_griffon_with_gun
	is_triggered_only = yes

	option = {
		name = raiding.9.a
		add_political_power = -25
		add_manpower = -500
		add_stability = -0.03
		if = {
			limit = {
				FROM.FROM.FROM = {
					industrial_complex > 0
				}
			}
			FROM.FROM.FROM = {
				damage_building = { type = industrial_complex damage = 0.40 }
			}
		}
		else_if = {
			limit = {
				FROM.FROM.FROM = {
					any_neighbor_state = {
						industrial_complex > 0
					}
				}
			}
			random_owned_controlled_state = {
				limit = { 
					industrial_complex > 0 
					any_neighbor_state = {
						state = FROM.FROM.FROM
					}
				}
				damage_building = { type = industrial_complex damage = 0.40 }
			}
		}
		else = {
			random_owned_controlled_state = {
				limit = { industrial_complex > 0 }
				damage_building = { type = industrial_complex damage = 0.40 }
			}
		}
		if = {
			limit = {
				FROM.FROM.FROM = {
					infrastructure > 0
				}
			}
			FROM.FROM.FROM = {
				damage_building = { type = infrastructure damage = 0.25 }
			}
		}
		else_if = {
			limit = {
				FROM.FROM.FROM = {
					any_neighbor_state = {
						infrastructure > 0
					}
				}
			}
			random_owned_controlled_state = {
				limit = { 
					infrastructure > 0 
					any_neighbor_state = {
						state = FROM.FROM.FROM
					}
				}
				damage_building = { type = infrastructure damage = 0.25 }
			}
		}
		else = {
			random_owned_controlled_state = {
				limit = { infrastructure > 0 }
				damage_building = { type = infrastructure damage = 0.25 }
			}
		}
	}
}

country_event = { #Raid Defeat/Armoury Looted
	id = raiding.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event raiding.10"}
	title = raiding.10.t
	desc = raiding.10.d

	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = raiding.10.a
		add_political_power = -25
		add_manpower = -1500
		add_stability = -0.01
		add_war_support = -0.02
		if = {
			limit = {
				FROM.FROM.FROM = {
					arms_factory > 0
				}
			}
			FROM.FROM.FROM = {
				damage_building = { type = arms_factory damage = 0.40 }
			}
		}
		else_if = {
			limit = {
				FROM.FROM.FROM = {
					any_neighbor_state = {
						arms_factory > 0
					}
				}
			}
			random_owned_controlled_state = {
				limit = { 
					arms_factory > 0 
					any_neighbor_state = {
						state = FROM.FROM.FROM
					}
				}
				damage_building = { type = infrastructure damage = 0.40 }
			}
		}
		else = {
			random_owned_controlled_state = {
				limit = { arms_factory > 0 }
				damage_building = { type = arms_factory damage = 0.40 }
			}
		}
	}
}

country_event = { #Raid Defeat/Villages Slaugthered
	id = raiding.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event raiding.11"}
	title = raiding.11.t
	desc = raiding.11.d

	picture = GFX_event_medieval_village
	is_triggered_only = yes

	option = {
		name = raiding.11.a
		add_political_power = -50
		add_stability = -0.03
		save_current_manpower = yes
		if = {
			limit = {
				FROM.FROM.FROM = {
					state_population > 5000
				}
			}
			FROM.FROM.FROM = {
				add_manpower = -5000
			}
		}
		else_if = {
			limit = {
				FROM.FROM.FROM = {
					any_neighbor_state = {
						state_population > 5000
					}
				}
			}
			random_owned_controlled_state = {
				limit = { 
					state_population > 5000
					any_neighbor_state = {
						state = FROM.FROM.FROM
					}
				}
				add_manpower = -5000
			}
		}
		else = {
			random_owned_controlled_state = {
				limit = {
					state_population > 5000
				}
				add_manpower = -5000
			}
		}
		restore_previous_manpower = yes
	}
}
